{% extends "main/base.html" %}

{% block title %}Update Article{% endblock %}

{% block content %}

    {% if submitted %}

        <h2>Article updated successfully.</h2>

    {% else %}
    
        <h1>Update Article</h1>

        <!-- Traditional POST Form -->
        <form id="updateForm" method="POST">
            {% csrf_token %}
            {{ form.media }}
            {{ form.as_p }}
            <input class="btn btn-primary" type="submit" value="Update (POST)">
            <button type="button" class="btn btn-secondary" onclick="updateWithPUT()">Update (PUT)</button>
        </form>

        <!-- Status message for AJAX requests -->
        <div id="statusMessage" style="margin-top: 10px;"></div>

    {% endif %}

    {% endblock %}

{% block extra_js %}
    {% load static %}
    <script src="{% static 'js/update_article.js' %}"></script>

{% endblock %}
